<!--Start search bar and add employee button  -->
<mat-card class="cardWithShadow">
  <mat-card-content class="p-24">
    <div class="row justify-content-between">
      <div class="col-lg-4"></div>
      <div class="col-lg-5 d-flex align-items-center justify-content-end">
        <button mat-flat-button (click)="openDialog('Add', {})" color="primary">
          Add Home Slider
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>

<!-- START table  -->
<mat-card class="cardWithShadow">
  <mat-card-content class="p-24">
    <div class="table-responsive">
      <table mat-table [dataSource]="dataSource" class="w-100">
        <ng-container matColumnDef="img">
          <th
            mat-header-cell
            *matHeaderCellDef
            class="f-w-600 f-s-14 mat-subtitle-1 p-l-0"
          >
            Image Du Produit
          </th>
          <td mat-cell *matCellDef="let element" class="p-l-0">
            <div
              class="d-flex align-items-center image-container"
              *ngIf="element.img"
            >
              <img
                [src]="element.img"
                alt="home slider"
                class="rounded"
                width="70"
                height="70"
                (click)="expandImage($event, element.img)"
              />
              <button
                (click)="confirmDeleteImage(element, element.img)"
                class="delete-button"
              >
                <i class="material-icons">delete</i>
                <!-- Material Icons delete icon -->
              </button>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="backgroundImg">
          <th
            mat-header-cell
            *matHeaderCellDef class="f-s-16 f-w-600"
          >
            Background Image
          </th>
          <td mat-cell *matCellDef="let element" class="p-l-0">
            <div class="d-flex align-items-center image-container" *ngIf="element.backgroundImg==null">
                <input type="file" (change)="addBackgroundImage(element.id, $event)" #fileInput />
            </div> 
           <div
              class="d-flex align-items-center image-container" 
              *ngIf="element.backgroundImg!=null">
              <img
                [src]="element.backgroundImg"
                alt="home slider img"
                class="rounded"
                width="70"
                height="70"
                (click)="expandImage($event, element.backgroundImg)"
              />
              <button
                (click)="confirmDeleteImage(element, element.backgroundImg)"
                class="delete-button"
              >
                <i class="material-icons">delete</i>
                <!-- Material Icons delete icon -->
              </button>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="preTitle">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            Pre Title
          </th>
          <td mat-cell *matCellDef="let element" class="f-s-14">
            <div>
              <span class="f-w-600">{{ element.preTitle?.text }}</span>
              <span class="f-s-12 ml-2">(${{ element.preTitle?.price }})</span>
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            title
          </th>
          <td mat-cell *matCellDef="let element" class="f-s-14">
            {{ element.title }}
          </td>
        </ng-container>
        <ng-container matColumnDef="parent">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            parent
          </th>
          <td mat-cell *matCellDef="let element" class="f-s-14">
            {{ element.parent }}
          </td>
        </ng-container>
        <ng-container matColumnDef="backgroundColor">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            back Ground Color
          </th>
          <td mat-cell *matCellDef="let element" class="f-s-14">
            {{ element.backgroundColor }}
          </td>
        </ng-container>
        <ng-container matColumnDef="subtitle">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            Subtitle
          </th>
          <td mat-cell *matCellDef="let element" class="f-s-14">
            <div>
              <span class="f-w-600">{{ element.subtitle?.text1 }}</span>
              <span class="f-s-12 ml-2"
                >({{ element.subtitle?.percent }}%)
              </span>
              <span class="f-s-14 ml-2" class="f-w-600">{{
                element.subtitle?.text2
              }}</span>
            </div>
          </td>
        </ng-container>

        <!-- Ations -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            Action
          </th>
          <td mat-cell *matCellDef="let element" class="action-link">
            <a
              (click)="openDialog('Update', element)"
              class="m-r-10 cursor-pointer"
            >
              <i-tabler name="edit" class="icon-18"></i-tabler
            ></a>
            <a
              (click)="openDialog('Delete', element)"
              class="m-r-10 cursor-pointer"
            >
              <i-tabler
                name="trash"
                class="icon-18"
                class="m-r-10 cursor-pointer"
              ></i-tabler>
            </a>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </mat-card-content>
</mat-card>
